(this["webpackJsonpmovie-app-reactjs"]=this["webpackJsonpmovie-app-reactjs"]||[]).push([[0],{20:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(0),i=c(21),r=c.n(i),n=c(25),o=c(16),j=c.n(o),v=c(22),d=c(13),l=Object(s.createContext)({}),h=c(12),u=function(e){var t=e.poster_path,c=e.title;return Object(a.jsxs)("div",{className:"result",children:[Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w1280"+t,alt:c}),Object(a.jsx)("h3",{children:c})]})},b=function(e){var t=e.movies,c=e.addFavorites;return Object(a.jsx)(a.Fragment,{children:t.map((function(e){return Object(a.jsxs)("div",{className:"list-container",children:[Object(a.jsx)(u,Object(h.a)({},e),e.id),Object(a.jsx)("div",{onClick:function(){return c(e)},className:"fav-option",children:Object(a.jsx)("h4",{children:"Add to Favorites"})})]})}))})},O=c(7),f=function(e){var t=e.searchMovie,c=e.setSearchMovie;return Object(a.jsx)("div",{className:"movie-input",children:Object(a.jsx)("input",{className:"input",value:t,placeholder:"Search for movies...",onChange:function(e){return c(e.target.value)}})})},m=function(){var e=Object(s.useContext)(l),t=e.searchMovie,c=e.setSearchMovie;return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("div",{className:"search-nav",children:Object(a.jsx)(f,{searchMovie:t,setSearchMovie:c})}),Object(a.jsx)(O.a,{children:Object(a.jsxs)("div",{className:"nav-list",children:[Object(a.jsx)("div",{className:"nav",children:Object(a.jsx)(O.b,{to:"/",children:"All movies"})}),Object(a.jsx)("div",{className:"nav",children:Object(a.jsx)(O.b,{to:"/favorites",children:"Favorites"})})]})})]})},p=(c(20),function(){var e=Object(s.useContext)(l),t=e.movies,c=e.searchMovie,i=e.setSearchMovie,r=e.addingFavorites,n=e.deleteFavorites;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m,{searchMovie:c,setSearchMovie:i}),Object(a.jsx)("div",{className:"display",children:Object(a.jsx)(b,{movies:t,addFavorites:r,deleteFavorites:n})})]})}),x=c(24),g=function(e){Object(x.a)(e);var t=Object(s.useContext)(l),c=t.searchMovie,i=t.setSearchMovie,r=t.favorites,n=t.deleteFavorites;return Object(a.jsxs)("div",{children:[Object(a.jsx)(m,{searchMovie:c,setSearchMovie:i}),Object(a.jsx)("div",{className:"display",children:r.map((function(e){return Object(a.jsxs)("div",{className:"list-container",children:[Object(a.jsx)(u,Object(h.a)({},e),e.id),Object(a.jsx)("div",{onClick:function(){return n(e)},className:"fav-option",children:Object(a.jsx)("h4",{children:"Delete from Favorites"})})]})}))})]})},M=c(2),N=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],i=t[1],r=Object(s.useState)([]),o=Object(d.a)(r,2),h=o[0],u=o[1],b=Object(s.useState)(""),f=Object(d.a)(b,2),m=f[0],x=f[1],N=function(){var e=Object(v.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c="https://api.themoviedb.org/3/search/movie?api_key=731f3d186278f13415d6f4a26e0ff069&query=".concat(t),fetch(c).then((function(e){return e.json()})).then((function(e){i(e.results)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){fetch("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=731f3d186278f13415d6f4a26e0ff069&page=1").then((function(e){return e.json()})).then((function(e){i(e.results)}))}),[]),m&&N(m),Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("movie-data"));e&&u(e)}),[]);var S=function(e){localStorage.setItem("movie-data",JSON.stringify(e))};return Object(a.jsx)(l.Provider,{value:{movies:c,addMovies:i,searchMovie:m,setSearchMovie:x,favorites:h,addFavorites:u,addingFavorites:function(e){var t=[].concat(Object(n.a)(h),[e]);u(t),S(t)},deleteFavorites:function(e){var t=h.filter((function(t){return t.id!==e.id}));u(t),S(t)}},children:Object(a.jsx)(O.a,{children:Object(a.jsxs)(M.c,{children:[Object(a.jsx)(M.a,{path:"/",component:p}),Object(a.jsx)(M.a,{path:"/favorites",component:g})]})})})};r.a.render(Object(a.jsx)(O.a,{children:Object(a.jsx)(N,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.34671bbe.chunk.js.map